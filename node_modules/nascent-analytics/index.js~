var Nascent = require('nascent');
var MixPanel = require('mixpanel');
var mixpanel = MixPanel.init('f27e441f5ea19ba787202ec985be5b72');
var extend = require('extend');

var NascentAnalytics = {};

NascentAnalytics.logEvent = function(eventName, eventParams) {
    var params = {
        distinct_id: Nascent.deviceId,
	app_id: Nascent.appId
    };
    if (eventParams) {
        extend(params, eventParams);
    }
    mixpanel.track(eventName, params);
    console.log('Logging Event', eventName, params);
}

Nascent.on('ready', function() {
	NascentAnalytics.logEvent('app_init');
});

module.exports = NascentAnalytics;

